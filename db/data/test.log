/*C32*/SET SCHEMA PUBLIC
alter table comentario drop constraint FK1gcyoyuhavbjdhqr9hbulwa69
alter table comentario drop constraint FKefv85lfutis7gg5eq0x8buy3f
alter table publicacion drop constraint FKlpgt4vyhdh8v75vt349jnbk85
alter table usuario_amigos drop constraint FK78dfuay1npvomfdwyjk49iu8h
alter table usuario_amigos drop constraint FKp8dunt6mjj9t1ncb1f15v3yv9
alter table usuario_likes_dados drop constraint FK1pilflrsasvtx2t6xxs6ygck
alter table usuario_likes_dados drop constraint FKjpk07m8yjwmycltwvk6qqevvm
drop table comentario if exists
drop table publicacion if exists
drop table usuario if exists
drop table usuario_amigos if exists
drop table usuario_likes_dados if exists
create table comentario (id bigint generated by default as identity (start with 1), contenido varchar(255), fecha timestamp, titulo varchar(255), autor_id bigint, post_id bigint, primary key (id))
create table publicacion (id bigint generated by default as identity (start with 1), contenido varchar(255), fecha timestamp, imagen varchar(255), titulo varchar(255), autor_id bigint, primary key (id))
create table usuario (id bigint generated by default as identity (start with 1), apellidos varchar(255), descripcion varchar(255), email varchar(255), foto_desc varchar(255), foto_perfil varchar(255), nombre varchar(255), password varchar(255), role varchar(255), username varchar(255), primary key (id))
create table usuario_amigos (usuario_id bigint not null, amigos_id bigint not null, primary key (usuario_id, amigos_id))
create table usuario_likes_dados (likes_id bigint not null, likes_dados_id bigint not null, primary key (likes_id, likes_dados_id))
alter table usuario add constraint UK_863n1y3x0jalatoir4325ehal unique (username)
alter table comentario add constraint FK1gcyoyuhavbjdhqr9hbulwa69 foreign key (autor_id) references usuario
alter table comentario add constraint FKefv85lfutis7gg5eq0x8buy3f foreign key (post_id) references publicacion
alter table publicacion add constraint FKlpgt4vyhdh8v75vt349jnbk85 foreign key (autor_id) references usuario
alter table usuario_amigos add constraint FK78dfuay1npvomfdwyjk49iu8h foreign key (amigos_id) references usuario
alter table usuario_amigos add constraint FKp8dunt6mjj9t1ncb1f15v3yv9 foreign key (usuario_id) references usuario
alter table usuario_likes_dados add constraint FK1pilflrsasvtx2t6xxs6ygck foreign key (likes_dados_id) references publicacion
alter table usuario_likes_dados add constraint FKjpk07m8yjwmycltwvk6qqevvm foreign key (likes_id) references usuario
INSERT INTO USUARIO VALUES(1,NULL,NULL,'antonioalfa22@gmail.com',NULL,NULL,NULL,'$2a$10$24iSHiMF/07vA1ruxB5/4eJ24QwXu52k5vZW7YjdJvfay87GLuYOW',NULL,'Antonio')
COMMIT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/DISCONNECT
